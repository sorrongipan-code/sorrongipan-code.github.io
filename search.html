<!doctype html><html class=dark lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Search Results - LinksUpIt</title><meta content="Discover amazing videos." name=description><meta content=website property=og:type><meta content=https://upit.ryuen.ca/ property=og:url><meta content=LinksUpIt property=og:title><meta content="Discover amazing videos." property=og:description><meta content=https://upit.ryuen.ca/assets/img/linksupit-meta.png property=og:image><meta content=LinksUpIt property=og:site_name><meta content=summary_large_image name=twitter:card><meta content=https://upit.ryuen.ca/ name=twitter:url><meta content=LinksUpIt name=twitter:title><meta content="Discover amazing videos." name=twitter:description><meta content=https://upit.ryuen.ca/assets/img/linksupit-meta.png name=twitter:image><link href=/assets/img/icon.png rel=icon sizes=any><script src=https://cdn.tailwindcss.com></script><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel=stylesheet><script src=https://unpkg.com/@phosphor-icons/web></script><link href=/assets/css/style.css rel=stylesheet><script defer src=/assets/js/script.js></script><script>tailwind.config={darkMode:`class`,theme:{extend:{fontFamily:{sans:[`Inter`,`system-ui`,`sans-serif`],mono:[`JetBrains Mono`,`monospace`]},colors:{bg:{main:`#09090b`,panel:`#121212`,hover:`#18181b`,element:`#27272a`},border:{subtle:`#27272a`,sharp:`#3f3f46`},text:{primary:`#FAFAFA`,secondary:`#A1A1AA`,tertiary:`#52525B`},ad:{bg:`#18181b`,label:`#3f3f46`}}}}};</script><style>body{color:#fafafa;-webkit-font-smoothing:antialiased;background-color:#09090b}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:#09090b}::-webkit-scrollbar-thumb{background:#27272a;border-radius:3px}::-webkit-scrollbar-thumb:hover{background:#3f3f46}.no-scrollbar::-webkit-scrollbar{display:none}.no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}.custom-select{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23A1A1AA'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");background-position:right .5rem center;background-repeat:no-repeat;background-size:1em;padding-right:1.5rem}.ad-unit{background-color:#18181b;background-image:repeating-linear-gradient(45deg,#27272a 25%,#0000 25% 75%,#27272a 75%,#27272a),repeating-linear-gradient(45deg,#27272a 25%,#18181b 25% 75%,#27272a 75%,#27272a);background-position:0 0,10px 10px;background-size:20px 20px;border:1px solid #27272a;justify-content:center;align-items:center;display:flex;position:relative;overflow:hidden}.ad-label:after{content:"ADVERTISEMENT";color:#3f3f46;letter-spacing:.5px;font-size:9px;font-weight:700;position:absolute;top:2px;right:4px}#sidebar{transition:transform .3s cubic-bezier(.4,0,.2,1)}</style></head><body class="flex flex-col min-h-screen text-sm"><div class="fixed inset-0 bg-black/80 z-40 hidden backdrop-blur-sm md:hidden transition-opacity opacity-0" data-sidebar-overlay id=sidebar-overlay></div><header class="h-[64px] bg-bg-main border-b border-border-subtle flex items-center justify-between px-4 md:px-6 shrink-0 z-50 relative"><div class="flex items-center gap-3 shrink-0"><button class="md:hidden p-1.5 text-text-secondary hover:text-white rounded-md hover:bg-bg-panel transition-colors" data-sidebar-toggle onclick=toggleSidebar() type=button><i class="ph ph-list text-xl"></i></button><a class="flex items-center gap-2 hover:opacity-90 transition-opacity group" href=/> <div class="w-4 h-4 bg-white rounded-sm shadow-[0_0_10px_rgba(255,255,255,0.3)] group-hover:shadow-[0_0_15px_rgba(255,255,255,0.5)] transition-shadow shrink-0"></div> <span class="font-bold tracking-tight text-white text-[13px] md:text-[14px]">LinksUpIt</span> </a></div><div class="hidden md:block flex-1 max-w-lg mx-8"><div class="relative group"><i class="ph ph-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-text-tertiary group-focus-within:text-white transition-colors"></i><input class="w-full bg-bg-panel border border-border-subtle text-white text-[13px] rounded-full py-2 pl-12 pr-4 placeholder-text-tertiary focus:outline-none focus:border-white/20 focus:ring-1 focus:ring-white/20 transition-all" onkeydown="if(event.key === 'Enter') window.location.href = '/search.html?q=' + encodeURIComponent(this.value)" placeholder="Search videos, models, or tags..."></div></div><div class="flex items-center justify-end shrink-0"><div class="md:hidden relative w-[160px] mr-2"><div class="relative group"><i class="ph ph-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-text-tertiary"></i><input class="w-full bg-bg-panel border border-border-subtle text-white text-[12px] rounded-full py-1.5 pl-9 pr-3 placeholder-text-tertiary focus:outline-none focus:border-white/20 focus:ring-1 focus:ring-white/20 transition-all" onkeydown="if(event.key === 'Enter') window.location.href = '/search.html?q=' + encodeURIComponent(this.value)" placeholder=Search...></div></div><div class="hidden md:flex items-center justify-center overflow-hidden"><script>atOptions={key:`65f518f67686d21b668f2cc0417d0a1b`,format:`iframe`,height:60,width:468,params:{}};</script><script src=https://www.highperformanceformat.com/65f518f67686d21b668f2cc0417d0a1b/invoke.js></script><script data-cfasync=false>function R(K,h){var O=X();return R=function(p,E){return p-=135,O[p]},R(K,h)}(function(K,h){for(var Xo=R,O=K();;)try{if(parseInt(Xo(172))/1*(-parseInt(Xo(144))/2)+parseInt(Xo(165))/3*(-parseInt(Xo(141))/4)+parseInt(Xo(181))/5*(-parseInt(Xo(147))/6)+parseInt(Xo(137))/7+-parseInt(Xo(161))/8+parseInt(Xo(167))/9*(parseInt(Xo(178))/10)+parseInt(Xo(149))/11*(parseInt(Xo(159))/12)===h)break;O.push(O.shift())}catch{O.push(O.shift())}})(X,210277),function(){var XG=R;function K(){var Xe=R,h=327367,O=`a3klsam`,p=`a`,E=`db`,Z=Xe(173),S=Xe(182),o=Xe(176),e=`cs`,D=`k`,c=`pro`,u=`xy`,Q=`su`,G=Xe(154),j=`se`,C=`cr`,z=`et`,w=`sta`,Y=`tic`,g=`adMa`,V=`nager`,A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+`-`+c+u+`-`+Q+G+`-`+j+C+z,L=`/`+w+Y+`/`+g+V+Xe(156),T=A,t=s,I=W,N=null,r=null,n=(/* @__PURE__ */ new Date())[Xe(148)]()[Xe(140)](`T`)[0][Xe(163)](/-/gi,`.`).substring(2),q=function(F){var Xa=Xe,f=Xa(164);function v(XK){var XD=Xa,Xh,XO=``;for(Xh=0;Xh<=3;Xh++)XO+=f[XD(136)](XK>>Xh*8+4&15)+f[XD(136)](XK>>Xh*8&15);return XO}function U(XK,Xh){var XO=(XK&65535)+(Xh&65535);return(XK>>16)+(Xh>>16)+(XO>>16)<<16|XO&65535}function m(XK,Xh){return XK<<Xh|XK>>>32-Xh}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO)}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS)}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS)}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS)}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS)}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(155)]+8>>6)+1,Xp=Array(XO*16);for(Xh=0;Xh<XO*16;Xh++)Xp[Xh]=0;for(Xh=0;Xh<XK[Xc(155)];Xh++)Xp[Xh>>2]|=XK[Xc(139)](Xh)<<Xh%4*8;return Xp[Xh>>2]|=128<<Xh%4*8,Xp[XO*16-2]=XK[Xc(155)]*8,Xp}var X2,X3=X1(F),X4=1732584193,X5=-271733879,X6=-1732584194,X7=271733878,X8,X9,XX,XR;for(X2=0;X2<X3[Xa(155)];X2+=16)X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0],7,-680876936),X7=B(X7,X4,X5,X6,X3[X2+1],12,-389564586),X6=B(X6,X7,X4,X5,X3[X2+2],17,606105819),X5=B(X5,X6,X7,X4,X3[X2+3],22,-1044525330),X4=B(X4,X5,X6,X7,X3[X2+4],7,-176418897),X7=B(X7,X4,X5,X6,X3[X2+5],12,1200080426),X6=B(X6,X7,X4,X5,X3[X2+6],17,-1473231341),X5=B(X5,X6,X7,X4,X3[X2+7],22,-45705983),X4=B(X4,X5,X6,X7,X3[X2+8],7,1770035416),X7=B(X7,X4,X5,X6,X3[X2+9],12,-1958414417),X6=B(X6,X7,X4,X5,X3[X2+10],17,-42063),X5=B(X5,X6,X7,X4,X3[X2+11],22,-1990404162),X4=B(X4,X5,X6,X7,X3[X2+12],7,1804603682),X7=B(X7,X4,X5,X6,X3[X2+13],12,-40341101),X6=B(X6,X7,X4,X5,X3[X2+14],17,-1502002290),X5=B(X5,X6,X7,X4,X3[X2+15],22,1236535329),X4=y(X4,X5,X6,X7,X3[X2+1],5,-165796510),X7=y(X7,X4,X5,X6,X3[X2+6],9,-1069501632),X6=y(X6,X7,X4,X5,X3[X2+11],14,643717713),X5=y(X5,X6,X7,X4,X3[X2+0],20,-373897302),X4=y(X4,X5,X6,X7,X3[X2+5],5,-701558691),X7=y(X7,X4,X5,X6,X3[X2+10],9,38016083),X6=y(X6,X7,X4,X5,X3[X2+15],14,-660478335),X5=y(X5,X6,X7,X4,X3[X2+4],20,-405537848),X4=y(X4,X5,X6,X7,X3[X2+9],5,568446438),X7=y(X7,X4,X5,X6,X3[X2+14],9,-1019803690),X6=y(X6,X7,X4,X5,X3[X2+3],14,-187363961),X5=y(X5,X6,X7,X4,X3[X2+8],20,1163531501),X4=y(X4,X5,X6,X7,X3[X2+13],5,-1444681467),X7=y(X7,X4,X5,X6,X3[X2+2],9,-51403784),X6=y(X6,X7,X4,X5,X3[X2+7],14,1735328473),X5=y(X5,X6,X7,X4,X3[X2+12],20,-1926607734),X4=H(X4,X5,X6,X7,X3[X2+5],4,-378558),X7=H(X7,X4,X5,X6,X3[X2+8],11,-2022574463),X6=H(X6,X7,X4,X5,X3[X2+11],16,1839030562),X5=H(X5,X6,X7,X4,X3[X2+14],23,-35309556),X4=H(X4,X5,X6,X7,X3[X2+1],4,-1530992060),X7=H(X7,X4,X5,X6,X3[X2+4],11,1272893353),X6=H(X6,X7,X4,X5,X3[X2+7],16,-155497632),X5=H(X5,X6,X7,X4,X3[X2+10],23,-1094730640),X4=H(X4,X5,X6,X7,X3[X2+13],4,681279174),X7=H(X7,X4,X5,X6,X3[X2+0],11,-358537222),X6=H(X6,X7,X4,X5,X3[X2+3],16,-722521979),X5=H(X5,X6,X7,X4,X3[X2+6],23,76029189),X4=H(X4,X5,X6,X7,X3[X2+9],4,-640364487),X7=H(X7,X4,X5,X6,X3[X2+12],11,-421815835),X6=H(X6,X7,X4,X5,X3[X2+15],16,530742520),X5=H(X5,X6,X7,X4,X3[X2+2],23,-995338651),X4=X0(X4,X5,X6,X7,X3[X2+0],6,-198630844),X7=X0(X7,X4,X5,X6,X3[X2+7],10,1126891415),X6=X0(X6,X7,X4,X5,X3[X2+14],15,-1416354905),X5=X0(X5,X6,X7,X4,X3[X2+5],21,-57434055),X4=X0(X4,X5,X6,X7,X3[X2+12],6,1700485571),X7=X0(X7,X4,X5,X6,X3[X2+3],10,-1894986606),X6=X0(X6,X7,X4,X5,X3[X2+10],15,-1051523),X5=X0(X5,X6,X7,X4,X3[X2+1],21,-2054922799),X4=X0(X4,X5,X6,X7,X3[X2+8],6,1873313359),X7=X0(X7,X4,X5,X6,X3[X2+15],10,-30611744),X6=X0(X6,X7,X4,X5,X3[X2+6],15,-1560198380),X5=X0(X5,X6,X7,X4,X3[X2+13],21,1309151649),X4=X0(X4,X5,X6,X7,X3[X2+4],6,-145523070),X7=X0(X7,X4,X5,X6,X3[X2+11],10,-1120210379),X6=X0(X6,X7,X4,X5,X3[X2+2],15,718787259),X5=X0(X5,X6,X7,X4,X3[X2+9],21,-343485551),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);return v(X4)+v(X5)+v(X6)+v(X7)},M=function(F){return r+`/`+q(n+`:`+T+`:`+F)},P=function(){var Xu=Xe;return r+`/`+q(n+`:`+t+Xu(174))},J=document[Xe(166)](Xe(175));Xe(168)in J?(L=L[Xe(163)](`.js`,Xe(157)),J[Xe(145)]=`module`):(L=L[Xe(163)](Xe(156),Xe(180)),J[Xe(179)]=!0),N=q(n+`:`+I+`:domain`)[Xe(169)](0,10)+Xe(138),r=Xe(146)+q(N+`:`+I)[Xe(169)](0,10)+`.`+N,J[Xe(150)]=M(L)+Xe(156),J[Xe(135)]=function(){window[O].ph(M,P,N,n,q),window[O].init(h)},J[Xe(162)]=function(){var XQ=Xe,F=document[XQ(166)](XQ(175));F.src=XQ(152),F[XQ(153)](XQ(160),h),F[XQ(177)]=`async`,document[XQ(151)][XQ(171)](F)},document[Xe(151)][Xe(171)](J)}document.readyState===XG(170)||document[XG(158)]===XG(143)||document[XG(158)]===`interactive`?K():window[XG(183)](XG(142),K)}();function X(){var Xj=/* @__PURE__ */ `addEventListener,onload,charAt,509117wxBMdt,.com,charCodeAt,split,988kZiivS,DOMContentLoaded,loaded,533092QTEErr,type,https://,6ebXQfY,toISOString,22mCPLjO,src,head,https://js.wpadmngr.com/static/adManager.js,setAttribute,per,length,.js,.m.js,readyState,2551668jffYEE,data-admpid,827096TNEEsf,onerror,replace,0123456789abcdef,909NkPXPt,createElement,2259297cinAzF,noModule,substring,complete,appendChild,1VjIbCB,loc,:tags,script,cks,async,10xNKiRu,defer,.l.js,469955xpTljk,ksu`.split(`,`);return X=function(){return Xj},X()}</script><script async data-cfasync=false src=//setyourtape.com/q/tdl/95/dnt/1958611/kep.js></script><script src=https://pl20229602.effectivegatecpm.com/64/f4/33/64f4333331a303cf0f8f34bac30adce7.js></script></div></div></header><div class="flex flex-1 relative"><aside class="fixed inset-y-0 left-0 z-50 w-[256px] bg-bg-main border-r border-border-subtle transform -translate-x-full md:translate-x-0 md:static flex flex-col pt-6 pb-4 shadow-2xl md:shadow-none" id=sidebar><div class="md:hidden flex items-center justify-between px-6 mb-6"><span class="font-bold text-white tracking-tight">Menu</span><button class="text-text-tertiary hover:text-white" data-sidebar-close onclick=toggleSidebar() type=button><i class="ph ph-x text-xl"></i></button></div><div class="px-3 space-y-6 overflow-y-auto flex-1 no-scrollbar"><div><div class="text-[10px] font-semibold text-text-tertiary uppercase tracking-widest px-3 mb-2">Browse</div><nav class=space-y-1><a class="flex items-center gap-3 px-3 py-2 rounded-md text-text-secondary hover:text-white hover:bg-bg-hover transition-colors" data-nav=all href=/> <i class="ph ph-video text-lg"></i> <span class=text-[13px]>All Videos</span> </a><a class="flex items-center gap-3 px-3 py-2 rounded-md text-text-secondary hover:text-white hover:bg-bg-hover transition-colors" data-nav=pictures href=/pictures.html> <i class="ph ph-squares-four text-lg"></i> <span class=text-[13px]>Pictures</span> </a><a class="flex items-center gap-3 px-3 py-2 rounded-md text-text-secondary hover:text-white hover:bg-bg-hover transition-colors" href="/search.html?q=trending" data-nav=trending> <i class="ph ph-trend-up text-lg"></i> <span class=text-[13px]>Trending</span> </a><a class="flex items-center gap-3 px-3 py-2 rounded-md text-text-secondary hover:text-white hover:bg-bg-hover transition-colors" href="/search.html?q=movies" data-nav=movies> <i class="ph ph-film-strip text-lg"></i> <span class=text-[13px]>Movies</span> </a></nav></div><div><div class="text-[10px] font-semibold text-text-tertiary uppercase tracking-widest px-3 mb-2">Categories</div><nav class=space-y-1><a class="block px-3 py-1.5 rounded text-text-secondary hover:text-white hover:bg-bg-hover text-[13px]" href=https://upit.ryuen.ca/tag/beautiful.html>Beautiful</a><a class="block px-3 py-1.5 rounded text-text-secondary hover:text-white hover:bg-bg-hover text-[13px]" href=https://upit.ryuen.ca/tag/japanese.html>Japanese</a><a class="block px-3 py-1.5 rounded text-text-secondary hover:text-white hover:bg-bg-hover text-[13px]" href=https://upit.ryuen.ca/tag/teen.html>Teen</a></nav></div><div class="mt-auto px-4 pb-4 flex flex-col items-center gap-4"><div class="flex justify-center w-full"><script>atOptions={key:`ddad1a20cb439d40f7643d9b756e0ca1`,format:`iframe`,height:300,width:160,params:{}};</script><script src=https://www.highperformanceformat.com/ddad1a20cb439d40f7643d9b756e0ca1/invoke.js></script></div><div class="flex justify-center w-full"><div data-banner-id=1448527></div></div></div></div></aside><main class="flex-1 flex flex-col min-w-0 bg-bg-main relative"><div class="border-b border-border-subtle bg-bg-main p-6 md:p-8 shrink-0"><div class="max-w-4xl mx-auto w-full"><div class="relative group mb-6"><i class="ph ph-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-xl text-text-tertiary group-focus-within:text-white transition-colors"></i><input class="w-full bg-bg-panel border border-border-subtle text-white text-[16px] md:text-[18px] rounded-lg py-4 pl-12 pr-4 placeholder-text-tertiary focus:outline-none focus:border-white/30 focus:ring-1 focus:ring-white/10 transition-all shadow-sm" placeholder="Type to search videos, tags, or models..." id=search-input oninput=performSearch(this.value)><div class="absolute right-4 top-1/2 -translate-y-1/2 hidden md:flex items-center gap-1"><span class="text-[10px] text-text-tertiary border border-border-subtle px-1.5 py-0.5 rounded font-mono">ESC</span><span class="text-[10px] text-text-tertiary">to clear</span></div></div><div class="flex items-center justify-between"><div class="flex items-center gap-2 text-[13px]"><span class=text-text-secondary>Found</span><span class="text-white font-mono font-bold bg-bg-element px-2 py-0.5 rounded border border-border-subtle" id=count>0</span><span class=text-text-secondary>results</span></div><div class="flex items-center gap-2 bg-bg-panel border border-border-subtle rounded-md px-3 py-1.5"><span class="text-[11px] text-text-tertiary font-medium">Sort by:</span><select class="bg-transparent text-[12px] text-white focus:outline-none custom-select py-0.5 pr-6 cursor-pointer" id=sort-select><option value=relevance>Relevance</option><option value=newest>Newest</option><option value=most_viewed>Most Viewed</option></select></div></div></div></div><div class="flex-1 overflow-y-auto scroll-smooth p-4 md:p-6 lg:p-8"><div class="max-w-7xl mx-auto"><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6" id=results-grid></div><div class="hidden flex flex-col items-center justify-center py-20 text-center" id=no-results><div class="w-16 h-16 bg-bg-panel border border-border-subtle rounded-full flex items-center justify-center mb-4"><i class="ph ph-warning-circle text-2xl text-text-tertiary"></i></div><h3 class="text-white font-medium mb-1">No results found</h3><p class="text-text-secondary text-xs max-w-xs">We couldn't find any videos matching your search. Try different keywords.</p></div><div class="mt-12 mb-6 flex justify-center gap-1 hidden" id=search-pagination></div><div class="mt-16 pt-8 border-t border-border-subtle text-center"><p class="text-[11px] text-text-tertiary font-mono">Â© LinksUpIt Search Engine.</p></div></div></div></main></div><script>// --- SEARCH LOGIC ---
let allVideos=[],searchTimeout=null;const RESULTS_PER_PAGE=15;let lastQuery=``,filteredResults=[],visibleResults=[];
// Fallback data
const mockVideos=[{id:`1`,title:`Big Buck Bunny`,thumbnail:`https://picsum.photos/seed/1/400/225`,views:12e3,date:`2024-01-01`,tags:[`animation`]},{id:`2`,title:`Elephant Dream`,thumbnail:`https://picsum.photos/seed/2/400/225`,views:8500,date:`2024-02-15`,tags:[`sci-fi`]},{id:`3`,title:`Sintel - The Search`,thumbnail:`https://picsum.photos/seed/3/400/225`,views:5e4,date:`2023-12-10`,tags:[`fantasy`]},{id:`4`,title:`Tears of Steel`,thumbnail:`https://picsum.photos/seed/4/400/225`,views:23e3,date:`2024-03-01`,tags:[`action`]}];async function loadSearchIndex(){try{let response=await fetch(`/search-index.json`);if(!response.ok)throw Error(`404`);
// Give videos a default index property to allow stable "relevance" reset
allVideos=(await response.json()).videos||[],allVideos.forEach((v,i)=>v._originalIndex=i)}catch(error){console.warn(`Using mock data because search-index.json failed:`,error),allVideos=mockVideos}}function getStateFromURL(){let params=new URLSearchParams(window.location.search);return{q:params.get(`q`)||``,p:Math.max(1,parseInt(params.get(`p`)||`1`,10))}}function setStateToURL(query,page){let url=new URL(window.location.href);url.searchParams.set(`q`,query),page>1?url.searchParams.set(`p`,String(page)):url.searchParams.delete(`p`),window.history.replaceState({},``,url)}function performSearch(query){clearTimeout(searchTimeout);let cleanQuery=query?query.trim():``;if(cleanQuery.length===0){filteredResults=[],visibleResults=[],renderResultsPage(1);return}searchTimeout=setTimeout(()=>{let queryLower=cleanQuery.toLowerCase();filteredResults=allVideos.filter(video=>{let titleMatch=video.title.toLowerCase().includes(queryLower),tagsMatch=video.tags&&video.tags.some(tag=>tag.toLowerCase().includes(queryLower));return titleMatch||tagsMatch}),lastQuery=cleanQuery,applySort(),renderResultsPage(1),setStateToURL(cleanQuery,1)},300)}
// --- SORT LOGIC ---
function applySort(){let sortValue=document.getElementById(`sort-select`).value;if(!filteredResults||filteredResults.length===0){visibleResults=[];return}visibleResults=[...filteredResults],sortValue===`newest`?visibleResults.sort((a,b)=>new Date(b.date)-new Date(a.date)):sortValue===`most_viewed`?visibleResults.sort((a,b)=>b.views-a.views):visibleResults.sort((a,b)=>(a._originalIndex||0)-(b._originalIndex||0))}
// --- RENDER ---
function renderResultsPage(page){let totalPages=Math.max(1,Math.ceil(visibleResults.length/15)),safePage=Math.min(Math.max(1,page),totalPages),start=(safePage-1)*15,end=start+15;displayResults(visibleResults.slice(start,end),visibleResults.length),renderPagination(safePage,totalPages)}function displayResults(results,totalCount){let grid=document.getElementById(`results-grid`),countEl=document.getElementById(`count`),noResEl=document.getElementById(`no-results`);if(grid.innerHTML=``,countEl.textContent=totalCount,results.length===0&&lastQuery.length>0){grid.classList.add(`hidden`),noResEl.classList.remove(`hidden`);return}grid.classList.remove(`hidden`),noResEl.classList.add(`hidden`),results.forEach(video=>{grid.appendChild(createVideoCard(video))})}function createVideoCard(video){let article=document.createElement(`article`);article.className=`group cursor-pointer flex flex-col`;let duration=video.duration||`00:00`;return video.duration||(duration=`${Math.floor(Math.random()*20)+1}:${Math.floor(Math.random()*60).toString().padStart(2,`0`)}`),article.innerHTML=`
            <a href="/video/${video.id}.html" class="block">
                <div class="relative aspect-video bg-bg-panel border border-border-subtle rounded-md overflow-hidden mb-2.5 transition-all group-hover:border-white/20 shadow-lg shadow-black/20 group-hover:shadow-black/40">
                    <img src="${video.thumbnail}" loading="lazy" class="w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity duration-500">
                    <div class="absolute bottom-1 right-1 bg-black/80 text-white text-[10px] font-mono font-medium px-1.5 py-0.5 rounded-sm backdrop-blur-md border border-white/5">${duration}</div>
                </div>
                <div>
                    <h3 class="text-[13px] font-medium leading-snug text-text-primary mb-1 line-clamp-2 group-hover:text-white transition-colors">${video.title}</h3>
                    <div class="flex items-center gap-1.5 text-[11px] text-text-secondary font-mono">
                        <span class="text-text-tertiary">${formatViews(video.views)}</span>
                        <span class="w-0.5 h-0.5 rounded-full bg-text-tertiary"></span>
                        <span>${timeAgo(video.date)}</span>
                    </div>
                </div>
            </a>
        `,article}function renderPagination(currentPage,totalPages){let container=document.getElementById(`search-pagination`);if(container.innerHTML=``,totalPages<=1){container.classList.add(`hidden`);return}container.classList.remove(`hidden`);let createBtn=(label,page,isActive,isDisabled)=>{let btn=document.createElement(`button`);return btn.className=`w-9 h-9 flex items-center justify-center rounded-md text-xs font-medium transition-all shrink-0 ${isActive?`bg-bg-element border border-border-subtle text-white font-bold shadow-sm`:isDisabled?`text-text-tertiary cursor-not-allowed`:`border border-transparent text-text-secondary hover:bg-bg-panel hover:text-white`}`,label===`prev`?btn.innerHTML=`<i class="ph-bold ph-caret-left"></i>`:label===`next`?btn.innerHTML=`<i class="ph-bold ph-caret-right"></i>`:btn.textContent=label,!isDisabled&&!isActive&&(btn.onclick=()=>{renderResultsPage(page),setStateToURL(lastQuery,page),document.getElementById(`search-input`).scrollIntoView({behavior:`smooth`,block:`center`})}),btn};container.appendChild(createBtn(`prev`,currentPage-1,!1,currentPage===1));let start=Math.max(1,currentPage-2),end=Math.min(totalPages,start+4);if(start>1&&(container.appendChild(createBtn(`1`,1,!1,!1)),start>2)){let span=document.createElement(`span`);span.className=`text-text-tertiary px-1 self-center`,span.textContent=`...`,container.appendChild(span)}for(let i=start;i<=end;i++)container.appendChild(createBtn(String(i),i,i===currentPage,!1));if(end<totalPages){let span=document.createElement(`span`);span.className=`text-text-tertiary px-1 self-center`,span.textContent=`...`,container.appendChild(span),container.appendChild(createBtn(String(totalPages),totalPages,!1,!1))}container.appendChild(createBtn(`next`,currentPage+1,!1,currentPage===totalPages))}function formatViews(num){return num?num>=1e6?(num/1e6).toFixed(1)+`M views`:num>=1e3?(num/1e3).toFixed(1)+`K views`:num+` views`:`0 views`}function timeAgo(dateStr){if(!dateStr)return``;let date=new Date(dateStr),now=/* @__PURE__ */ new Date,diffTime=Math.abs(now-date),diffDays=Math.ceil(diffTime/(1e3*60*60*24));return diffDays>365?Math.floor(diffDays/365)+`y ago`:diffDays>30?Math.floor(diffDays/30)+`mo ago`:diffDays+`d ago`}document.addEventListener(`DOMContentLoaded`,()=>{
// Event Listener for Sorting - Re-sorts visibleResults based on filteredResults
let sortSelect=document.getElementById(`sort-select`);sortSelect&&sortSelect.addEventListener(`change`,()=>{applySort(),renderResultsPage(1)}),document.addEventListener(`keydown`,e=>{if(e.key===`Escape`){let input=document.getElementById(`search-input`);document.activeElement===input&&(input.value=``,performSearch(``))}}),loadSearchIndex().then(()=>{let state=getStateFromURL();
// Set initial sort state? Maybe default to Relevance
state.q?(document.getElementById(`search-input`).value=state.q,performSearch(state.q)):document.getElementById(`search-input`).focus()})});</script></body></html>